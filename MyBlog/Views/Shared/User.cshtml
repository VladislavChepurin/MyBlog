@model MyBlog.ViewModels.UserPageViewModel;


@{
    ViewData["Title"] = "Страница пользователя";
}

<h3>@ViewData["Title"]</h3>

<div class="user-container">
    <div class="user-info-left">
        <h4>Данные пользователя</h4>
        <p>Имя: <code>@Model.UserViewModel.User.FirstName</code><p />
        <p>Фамилия: <code>@Model.UserViewModel.User.LastName</code><p />
        <p>Логин: <code>@Model.UserViewModel.User.UserName</code><p />
        <p>Email: <code>@Model.UserViewModel.User.Email</code><p />

        <form asp-controller="Edit" asp-action="EditUser" asp-route-userid="@Model.UserViewModel.User.Id" method="post">
            <button type="submit" class="enter_submit btn-user-width btn-sm">
                Редактировать
            </button>
        </form>
    </div>  
</div>


    <hr>
    <hr>

    <div class="list-device">
        <h4>Страница блогов</h4>

    <table>
        @foreach (var item in Model.UserViewModel.AllArticles)
            {
                <tr>
                    <td>
                        <label>@Model.UserViewModel.Number</label>
                    </td>
                    <td>
                        <label>Название статьи: <code>@item.Title</code></label>
                        <br>
                        <label>Дата создания: <code>@item.Created</code></label>
                    </td>


                    <td>

                    <form asp-controller="RegisterDevice" asp-action="DeleteDevice" method="post">

                        <input type="hidden" name="serialNumber" value="@item.Id" />
                        <input type="hidden" name="userId" value="@Model.UserViewModel.User.Id" />

                        <button type="submit" class="btn btn-sm enter_submit btn-user-width">
                            Удалить статью
                        </button>
                    </form>
                
                    </td>
                </tr>
            }
        </table>   
    </div>

